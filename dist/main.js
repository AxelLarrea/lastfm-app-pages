(()=>{"use strict";const a=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/",n=async()=>{try{const a=await fetch("https://ws.audioscrobbler.com/2.0/?method=tag.gettopalbums&tag=disco&api_key=b568fde1c4b43d114514fa9e8c968456&format=json");return await a.json()}catch(a){console.error("Fetch error",a)}},t=()=>'\n        <div class="erorr404">\n            <h2>Error 404</h2>\n        </div>\n    ',e={"/":async()=>`\n        <div class="albums">\n            ${(await n()).albums.album.map((a=>`\n                <article>\n                    <a href="#/${a["@attr"].rank}">\n                        <img src="${a.image[2]["#text"]}" alt="${a.name}"/>\n                        <h3>${a.name}</h3>\n                    </a>\n                </article>\n            `)).join("")}\n        </div>\n    `,"/:id":async()=>{const t=a(),e=(await(async a=>{const t=(await n()).albums.album[a-1].artist.name,e=t?`https://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=${t}&api_key=b568fde1c4b43d114514fa9e8c968456&format=json`:"https://ws.audioscrobbler.com/2.0/?method=tag.gettopalbums&tag=disco&api_key=b568fde1c4b43d114514fa9e8c968456&format=json";try{const a=await fetch(e);return await a.json()}catch(a){console.error("Fetch error",a)}})(t)).artist,s=(await n()).albums.album;return`\n        <div class="singer-inner">\n            <article class="singer-card">\n                <img src="${s[t-1].image[2]["#text"]}" alt="${s[t-1].artist.name}">\n            </article>\n\n            <article class="singer-card">\n                <h3>Artista: <span>${s[t-1].artist.name}</span></h3>\n                <h3>Album: <span>${s[t-1].name}</span></h3>\n                <h3>Reproducciones: <span>${e.stats.playcount}</span></h3>\n            </article>\n        </div>\n    `}},s=async()=>{const n=document.getElementById("header"),s=document.getElementById("content");n.innerHTML=await'\n        <div class="header-main">\n            <div class="header-logo">\n                <h1>\n                    <a href="">LastFM</a>\n                </h1>\n            </div>\n\n            <div class="header-nav">\n                <a href="#/"></a>\n            </div>\n        </div>\n    ';let r=a(),i=await(a=>a.length<=3?"/"===a?a:"/:id":`/${a}`)(r),c=e[i]?e[i]:t;s.innerHTML=await c()};window.addEventListener("load",s),window.addEventListener("hashchange",s)})();